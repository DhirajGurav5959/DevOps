if(!window.AWSC){AWSC={}}AWSC.PanoramaTrackerInit=(function(){var i="panorama",k=".prod.pw.analytics.console.aws.a2z.com",d=".prod.pr.analytics.console.aws.a2z.com",o="/panoramawhitelist",f="us-east-1",r="web",m=3,c=0,l=1000,h=20000,a=0,g=function(){return undefined};if(window.AWSC&&window.AWSC.Clog&&window.AWSC.Clog.log){g=window.AWSC.Clog.log}var n=function(y,w,z,x){if(!y||!w||!z||!x){var t="";if(!y){t+="region;"}if(!w){t+="service;"}if(!z){t+="modality;"}if(!x){t+="trackerUrl;"}g({key:"panoALParamsUnavailable",value:1,detail:t});return false}var B=Boolean(window.location.href.indexOf("panoramaEnabled")!==-1);var A=["s3","cloud9"];if(A.indexOf(w)>=0){var v={disablePhantom:true,enablePolaroid:true};if(v.disablePhantom&&!!window.callPhantom){return}g("ALBypassed",1);j(z,y,window,document,"script",x,i,null,null,v)}else{var C=new XMLHttpRequest();var s="https://"+f+k+o+"?modality="+z+"&identifier="+w+"&region="+y;C.open("GET",s,true);C.onreadystatechange=function(){if(C.readyState===4&&C.status===200){g("panoALSuccessful",1);g({key:"panoALSuccessLatency",value:Date.now()-u,unit:"ms"});var D=JSON.parse(C.response);if(D.isWhitelisted){g("panoALTrue",1)}if(D.isWhitelisted||B){var E={};if(D.trackerConfig){try{E=JSON.parse(D.trackerConfig)}catch(F){g({key:"panoALParseError",value:1})}}if(E.trackerUrl&&(E.trackerUrlRatio||1)>Math.random()){x=E.trackerUrl}if(E.disablePhantom&&!!window.callPhantom){return}j(z,y,window,document,"script",x,i,null,null,E)}else{window.panorama={};window.panorama.enabled=false;window.AWSC.Clog.bufferedQueue=[];g("panoALFalse",1)}}else{if(C.readyState===4&&(C.status>=400||C.status===0)){g({key:"panoALFailureLatency",value:Date.now()-u,unit:"ms"});if(c<m){c++;if(c===1){g({key:"anyPanoALFail",value:1,detail:C.status})}else{g({key:"panoALFail",value:c,detail:C.status})}C.abort();setTimeout(function(){n(y,w,z,x)},l)}else{window.AWSC.Clog.bufferedQueue=[];g("panoZeroRetriesLeft",1)}}}if(C.readyState===4&&(C.status===200||c>=m)){g({key:"totalPanoALRetries",value:c})}};C.ontimeout=function(){a++;g("panoALTimeoutExceeded",a)};C.timeout=h;var u=Date.now();C.send();if(c===0){g("anyPanoALSent",1)}else{g("panoALSent",c)}return false}};var j=function(y,s,t,z,u,D,B,x,C,A){if(!t[B]){t.GlobalSnowplowNamespace=t.GlobalSnowplowNamespace||[];t.GlobalSnowplowNamespace.push(B);t[B]=function(){(t[B].q=t[B].q||[]).push(arguments)};t[B].loadTime=Date.now();t[B].enabled=true;t[B].q=t[B].q||[];t[B].trackCustomEvent=function(){[].unshift.call(arguments,"trackCustomEvent");t[B].apply(this,arguments)};x=z.createElement(u);C=z.getElementsByTagName(u)[0];x.async=1;x.src=D;C.parentNode.insertBefore(x,C)}var v={appId:"aws-console",console:true,trackerConstants:{whitelist:false,cookieDomain:"amazon.com",pluginsEnabledByDefault:true,modality:y}};for(var E in A){if(A.hasOwnProperty(E)&&!v[E]){v[E]=A[E]}}window.panorama("newTracker","cf","//"+s+d,v)};g("panoInitLoad",1);if(AWSC.NavFAC){AWSC.NavFAC.loadFeatures();if(AWSC.NavFAC.isFeatureEnabled(i)&&ConsoleNavService&&ConsoleNavService.Model){var b=ConsoleNavService.Model.currentRegionId||f,q=ConsoleNavService.Model.currentService.id,p=r,e=document.getElementById("awsc-panorama-bundle").getAttribute("data-url");n(b,q,p,e)}}else{g("panoFacUnavailable",1)}})();